{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add to Cart</title>


    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="{% static 'shop/style.css' %}" />
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
<style>
  
  .item{
    display: flex;
  
    
  }
  #abc{
    height: 350px;
    width: 350px;
  }
  .item2{
    padding: 40px;
    padding-top: 100px;
  }
  #navflex{
    display: flex;
  }
  #check{
    margin-top: 9px;
    margin-left: 59rem;
  }
  .cart{
    margin: 10px;
    margin-left: 25px;
}
.item3{
  padding: 145px;
  padding-left: 40px
}
</style>
  </head>
  <body>
    

    
    <div class="container">

      <div class="row">
        <div class="col-md-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            
           
              <div class="navbar-nav" id="navflex">
                <div><p class="cart navbar-brand">Cart Page</p></div>
                <a href="/" style="padding: 17px;">Go to Home</a>
                <div><a href="/checkout" type="button" id="check" class="btn btn-secondary" >
                    Checkout
                </a></div>
                
              </div>
          
          </nav>
        </div>
      </div>

      <div class="row">
         <div class="col-md-12"  style="background-color: lightgray; margin: 13px; width: 81rem;">
        <br>
            <ul id="item_list" class="list-group">

              
            </ul>

            
          

        </div>
      </div>
    </div>
    
    

  </body>
  <script>
if(localStorage.getItem('cart') == null){
  var cart = {}
}
else{
  cart = JSON.parse(localStorage.getItem("cart"));
}

for (item in cart) {
  let img = cart[item][1];
  let name = cart[item][2];
  let price = cart[item][3];
  let quantity = cart[item][0];

  
  let priceInt = price.split("$")[1]

  let multi = parseInt(priceInt) * parseInt(quantity);

  let itemDiv = `<div class="item">
                  <div class="item1">
                  <img class="list-group-item" id="abc" src="${img}" class="card-img-top" style="border:1px solid black;"></img>
                  </div>
                  <div class="item2">
                  <div class="list-group-item">Item - ${name}</div>
                  <div class="list-group-item">Price - ${price}</div>
                  <div class="list-group-item">Quantity - ${quantity}</div>
                  </div>
                  <div class="item3">
                    <div class="list-group-item">Total - ${multi}</div>
                  </div>
                  
                 
                </div>
                <hr>
                <br>`;

  $('#item_list').append(itemDiv);
}


  </script>
</html>
